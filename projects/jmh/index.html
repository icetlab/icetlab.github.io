<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Software Performance Benchmarking with JMH | Internet Computing and Emerging Technologies lab (ICET-lab) </title> <meta name="author" content="Philipp Leitner"> <meta name="description" content="measuring, predicting, and optimizing software performance in Java using JMH"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/Favicon.png?7d1fd838734c74f575bb0653bf0a58ae"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://www.icet-lab.eu/projects/jmh/"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Internet Computing and Emerging Technologies lab (ICET-lab) </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/people/">people </a> </li> <li class="nav-item "> <a class="nav-link" href="/research/">research </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching </a> </li> <li class="nav-item "> <a class="nav-link" href="/past/">graduates </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Software Performance Benchmarking with JMH</h1> <p class="post-description">measuring, predicting, and optimizing software performance in Java using JMH</p> </header> <article> <div class="row align-items-center"> <div class="col-sm-7 mt-3 mt-md-0"> <p>Performance is one of the most central non-functional properties of modern software. And yet we all experience the applications we use on a daily basis to continuously become slower, less reliable, and more bloated.</p> <p>One of the reasons for this is that actually <i>testing</i> performance is much harder than testing functional correctness, and hence much more rarely done.</p> <p>For the last 10 years, ICET-lab has studied how Java developers can use the <a href="https://openjdk.org/projects/code-tools/jmh/" rel="external nofollow noopener" target="_blank">Java Microbenchmark Harness</a> (JMH) to continuously benchmark their system, for example as part of their CI pipeline.</p> </div> <div class="col-sm-5 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/jmhexample-480.webp 480w,/assets/img/jmhexample-800.webp 800w,/assets/img/jmhexample-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/jmhexample.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="a JMH benchmark" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> A JMH benchmark example from the <a href="https://protobuf.dev" rel="external nofollow noopener" target="_blank">Protobuf</a> project </div> </div> </div> <p>Concrete research results include detecting anti-patterns in JMH benchmarks which can lead to misleading measurement results (missing reference), demonstrating that statistical methods can be used to significantly reduce required benchmark repetitions (missing reference), or experiments with coverage-based benchmark selection (missing reference).</p> <p>In this line of research, we have also developed multiple open source tools that can support benchmarking research and practice, including <a href="https://github.com/alniniclas/junit-to-jmh" rel="external nofollow noopener" target="_blank">Junit-to-JMH</a>, a tool to generate performance benchmark suites from unit tests (missing reference), and <a href="https://github.com/chrstphlbr/bencher" rel="external nofollow noopener" target="_blank">Bencher</a>, a tool to analyse static and dynamic coverage of JMH benchmarks.</p> <div class="row align-items-center"> <div class="col-sm-7 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/badpracticeimpact-480.webp 480w,/assets/img/badpracticeimpact-800.webp 800w,/assets/img/badpracticeimpact-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/badpracticeimpact.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="impact of bad JMH practices on benchmark results" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> The impact of bad JMH practices on benchmark results </div> </div> <div class="col-sm-5 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/dynamicreconfig-480.webp 480w,/assets/img/dynamicreconfig-800.webp 800w,/assets/img/dynamicreconfig-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/assets/img/dynamicreconfig.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="dynamically reconfiguring JMH benchmarks" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> Dynamically reconfiguring JMH to reduce benchmark execution time </div> </div> </div> <p>In our ongoing work in this research theme, we are particularly interested in:</p> <ul> <li> <p>How to <em>bootstrap</em> performance testing in a project by generating (initial) performance test suites. <a href="https://github.com/alniniclas/junit-to-jmh" rel="external nofollow noopener" target="_blank">Junit-to-JMH</a> (missing reference) is a first stab into this direction.</p> </li> <li> <p>How to <em>predict</em> the execution time of benchmarks (and, hence, performance) prior to execution. We have already achieved initial success predicting the execution time of small pieces of code using graph-based neural networks (missing reference). The ultimate vision, of course, is to be able to warn developers <em>before</em> committing slow code, without the need for expensive performance testing.</p> </li> <li> <p>How to make performance testing <em>easier</em>, through performance assessment bots (missing reference) or good visualizations (missing reference).</p> </li> </ul> <p><strong>Contacts:</strong></p> <p><a href="https://laaber.net" rel="external nofollow noopener" target="_blank">Dr. Christoph Laaber</a> (probably the world’s foremost expert on academic research about JMH benchmarking)</p> <p><a href="http://philippleitner.net" rel="external nofollow noopener" target="_blank">Dr. Philipp Leitner</a></p> <hr> </article> <h2>References</h2> <div class="publications"> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Philipp Leitner. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Last updated: July 10, 2025. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>